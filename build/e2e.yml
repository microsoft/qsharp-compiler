name: $(Build.Major).$(Build.Minor).$(BuildId)

parameters:
- name: validation_level
  displayName: Validation Level
  type: string
  default: normal
  values:
  - minimal
  - normal
  - full

trigger: none

pr:
- main
- feature/*
- features/*
- release/*

resources:
  repositories:
  - repository: qdk
    type: github
    endpoint: github
    name: microsoft/qdk
    ref: refs/heads/main

extends:
  template: build/qdk-module-e2e.yml@qdk
  parameters:
    module: qsharp-compiler
    validation_level: ${{ parameters.validation_level }}
