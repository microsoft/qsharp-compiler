name: $(Build.Major).$(Build.Minor).$(date:yyMM).$(DayOfMonth)$(rev:rr)
trigger:
- master

variables:
  Build.Major: 0
  Build.Minor: 0
  IQSharp.Hosting.Env: 'build-agent'
  Runtime.WorkingDirectory: $(System.DefaultWorkingDirectory)
  Nuget.Outdir: $(Build.ArtifactStagingDirectory)/drops/nugets
  Docs.Outdir: $(Build.ArtifactStagingDirectory)/drops/docs
  Drop.Native: $(System.DefaultWorkingDirectory)/xplat


jobs:
- job: "QsCompiler"
  steps:
  - template: steps.yml

  - task: ms.vss-governance-buildtask.governance-build-task-component-detection.ComponentGovernanceComponentDetection@0
    displayName: 'Component detection'
    inputs:
      failOnAlert: true   

