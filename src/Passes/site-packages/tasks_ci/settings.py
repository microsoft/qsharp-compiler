# Copyright (c) Microsoft Corporation.
# Licensed under the MIT License.

from os import path
import multiprocessing

PROJECT_ROOT = path.abspath(path.dirname(path.dirname(path.dirname(__file__))))

MAX_CONCURRENCY = 7


def get_degree_of_concurrency() -> int:
    """
    Function that gives a default concurrency for the compilation
    and testing process.
    """
    return min(MAX_CONCURRENCY, multiprocessing.cpu_count())
